<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Bevy Game Development &ndash; Benjamin Wattie</title><link rel=stylesheet href=/css/styles.css><link id=theme_css rel=stylesheet href=/css/themes/light.css></head><body><input class=show-hide-menu-input style=display:none autocomplete=off type=checkbox id=toggle-1><div class=main><div class=header><div class=header-content><div class=title><a href=https://wattie.dev/>Benjamin Wattie</a></div><div><div class=header-right></div><label class=overlay for=toggle-1></label></div></div></div><div class=body><div class=body-content><div class=title-header><h1>Bevy Game Development</h1><div class=title-header-date><time>Saturday, January 8, 2022</time></div></div><h2 id=last-year-i-started-creating-a-fairly-large-game-in-rust>Last year I started creating a fairly large game in Rust.<a href=#last-year-i-started-creating-a-fairly-large-game-in-rust class=heading-anchor aria-label=Anchor><img src=/images/chain-link.svg class=color-adapting-image height=20></a></h2><p>My background is in mostly python devops and so nearly every part of it needs careful planning.
The parts that weren&rsquo;t nearly all needed rewriting.
I&rsquo;m learning common game dev patterns as well as nuances in Rust and I want to document it.
It&rsquo;s not open source at the moment.</p><h3 id=why-rust>Why Rust?<a href=#why-rust class=heading-anchor aria-label=Anchor><img src=/images/chain-link.svg class=color-adapting-image height=20></a></h3><p>One word, Elegance.
There is no garbage collection in Rust, but you can still work with the heap in a safe way. Concurrency becomes much more deterministic as a result of the move/borrow rules.
This concurrency allows breakneck speeds in many different use cases. I also find the syntax very satisfying.</p><p>There are many practical reasons not to use Rust. My productivity is slower, there are less open source examples and the engines are rapidly morphing.
None of this matters to me since it&rsquo;s a personal project. No one except myself is going to demand any deadlines or features.</p><h3 id=what-tools-am-i-using>What tools am I using?<a href=#what-tools-am-i-using class=heading-anchor aria-label=Anchor><img src=/images/chain-link.svg class=color-adapting-image height=20></a></h3><ul><li>I bought a tileset for $5, but ideally later I&rsquo;ll use <a href=https://www.aseprite.org/>Aseprite</a> to create my own.</li><li><a href=https://ldtk.io/>LDTK</a> is an incredible free level editor for 2d games.</li><li><a href=https://github.com/bevyengine/bevy>Bevy</a> is my engine. It&rsquo;s an ECS. Some parts are still in development, but performance is through the roof. Running my game, all CPU cores are used almost equally. Bevy can ruthlessly optimise this because of Rust memory safety.</li><li><a href=https://rapier.rs/>Rapier</a> for collision detection, bringing back elements of my math major.</li></ul><h3 id=learnings--problems-ive-faced>Learnings & Problems I&rsquo;ve faced<a href=#learnings--problems-ive-faced class=heading-anchor aria-label=Anchor><img src=/images/chain-link.svg class=color-adapting-image height=20></a></h3><p>Programming in an ECS is very fun. It&rsquo;s queries feel very familiar coming from a web background.</p><p>Tileset creation was a big one. I didn&rsquo;t even know level editors were a thing.
LDTK was a huge help to create maps visually. Its data format was wrong for what I needed.
I created a pipeline to convert it into game entities and assets, which was an ordeal.
What made the pipeline difficult was not just being able to iterate and chuck things in a mutable dict as I go. Instead it felt a lot like java. If theres interest, I can open source this LDTK->Bevy entities in a seperate crate.</p><p>Collision detection was largely solved by using Rapier, but it needed a fair amount of reading to understand how it works.
Using it in a 3d game requires using quaternions to represent rotations in 4d. I highly reccomend <a href="https://www.youtube.com/watch?v=d4EgbgTm0Bg">this video</a> to understand quaternions, the stereographic projections in 3d blew my mind.</p><p>Another one is just general project structure and design patterns for game dev.
<a href=https://gameprogrammingpatterns.com/>Game programming patterns</a> has helped in certain aspects, but it&rsquo;s aimed at OO rather than ECS.
I&rsquo;m getting better at this after a fair amount of refactoring!</p><p>I hope to post more significant problems as I go, to help others who might have the same problems.</p><h4 id=this-is-by-far-the-most-fun-ive-had-in-my-entire-career-its-also-made-me-a-better-developer-in-general-i-wont-be-finished-any-time-soon-though-so-if-you-want-to-help-get-in-touch>This is by far the most fun I&rsquo;ve had in my entire career. It&rsquo;s also made me a better developer in general. I won&rsquo;t be finished any time soon though. So if you want to help, get in touch<a href=#this-is-by-far-the-most-fun-ive-had-in-my-entire-career-its-also-made-me-a-better-developer-in-general-i-wont-be-finished-any-time-soon-though-so-if-you-want-to-help-get-in-touch class=heading-anchor aria-label=Anchor><img src=/images/chain-link.svg class=color-adapting-image height=20></a></h4></div></div></div><div class=footer>This site doesn't use javascript. Source code on <a href=https://github.com/b-jam/b-jam.github.io>Github</a></div></body></html>